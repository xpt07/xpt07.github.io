<!doctype html>
<html lang="en">
<head>
    <title>Sledding Mini-Game — GuiCodes</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Physics-based sledding controller with dynamic audio in Unreal Engine 5">
    <link rel="shortcut icon" href="../assets/images/favicon.png">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" href="../assets/icons/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../assets/plugins/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/colors/purple.css" title="purple">
</head>
<body class="dark-vertion black-bg">

    <header class="black-bg mh-header mh-fixed-nav nav-scroll mh-xs-mobile-nav">
        <div class="overlay"></div>
        <div class="container">
            <nav class="navbar navbar-expand-lg mh-nav nav-btn">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
                    <span class="navbar-toggler-icon icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbar">
                    <ul class="navbar-nav mr-auto ml-auto">
                        <li class="nav-item"><a class="nav-link" href="../index.html#mh-home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="../index.html#mh-portfolio">Portfolio</a></li>
                        <li class="nav-item"><a class="nav-link" href="../index.html#mh-contact">Contact</a></li>
                    </ul>
                    <a class="btn btn-fill" href="../index.html#mh-portfolio"><i class="fa fa-arrow-left"></i> Back to Portfolio</a>
                </div>
            </nav>
        </div>
    </header>

    <section class="project-hero mh-home" id="mh-home" style="background: url('../assets/images/portfolio/sled-main.png') center/cover no-repeat;">
        <div class="container">
            <div class="row section-separator vertical-middle-content home-padding">
                <div class="col-sm-8">
                    <div class="mh-header-info">
                        <div class="mh-promo wow fadeInUp"><span>Project</span></div>
                        <h2 class="wow fadeInUp">Sledding Mini-Game</h2>
                        <h4 class="wow fadeInUp">Physics-Based Controller with Dynamic Audio</h4>
                        <div class="mh-meta wow fadeInUp">
                            <span class="badge-tech">Unreal Engine 5</span>
                            <span class="badge-tech">C++</span>
                            <span class="badge-tech">Blueprint</span>
                            <span class="badge-tech">Enhanced Input</span>
                            <span class="badge-tech">UActorComponent</span>
                            <span class="badge-tech">Game Audio</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 text-center">
                    <img src="../assets/images/portfolio/sled-figure1.png" alt="Sled preview" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <main class="mh-about" id="content">
        <div class="container">
            <div class="row section-separator">
                <div class="col-md-8">
                    <div class="mh-about-inner">
                        <h3 class="mh-section-title">Overview</h3>
                        <p>This project involved developing a physics-based sled controller and a dynamic audio system for a winter-themed mini-game. Implemented in Unreal Engine 5 using both C++ and Blueprints, the system features precise control, grounded and airborne physics, and contextual audio feedback for an immersive player experience.</p>

                        <h4 class="mh-section-title">Sled Physics & Input</h4>
                        <p>The sled was implemented as a custom <code>APawn</code> subclass in C++, giving full control over the physics without inheriting Character class limitations. The Enhanced Input system was used to process <code>pitch</code>, <code>yaw</code>, and <code>roll</code> actions with keyboard and gamepad bindings.</p>
                        <img src="../assets/images/portfolio/input-mapping.png" class="img-fluid rounded mb-3" alt="Input mapping">

                        <h5>Turning (Yaw Torque)</h5>
                        <pre><code class="language-cpp">void ASledgeBase::ApplySteerTorque() {
    FVector Torque = SledgeMesh->GetUpVector() * sTorque * yaw;
    SledgeMesh->AddTorqueInRadians(Torque);
}</code></pre>

                        <h5>Air Control (Pitch & Roll)</h5>
                        <pre><code class="language-cpp">void ASledgeBase::ApplyAirControl() {
    FVector Torque = (SledgeMesh->GetForwardVector() * sTorque) * roll;
    SledgeMesh->AddTorqueInRadians(Torque);
    Torque = (SledgeMesh->GetRightVector() * sTorque) * pitch;
    SledgeMesh->AddTorqueInRadians(Torque);
}</code></pre>

                        <h5>Lateral Friction (Drift Damping)</h5>
                        <p>To simulate realistic drifting, sideways velocity is computed and a counter-force is applied, modulated by surface material type.</p>
                        <pre><code class="language-cpp">void ASledgeBase::ApplyDirectionalFriction() {
    FVector velocity = SledgeMesh->GetComponentVelocity();
    FVector sideVel = FVector::DotProduct(velocity, SledgeMesh->GetRightVector()) * SledgeMesh->GetRightVector();
    FVector sideFriction = -sideVel * (isGrounded ? matFriction : 0.3f) * 5.0f;
    SledgeMesh->AddForce(sideFriction);
}</code></pre>

                        <h4 class="mh-section-title">Audio System</h4>
                        <p>The sound system is implemented as a modular <code>UActorComponent</code> written in C++. It dynamically adjusts wind and sliding audio and plays impact sounds based on surface tags.</p>

                        <h5>Initialisation</h5>
                        <pre><code class="language-cpp">void USledSound::InitSoundPlayer(UAudioComponent* rock, UAudioComponent* tree,
                                 UAudioComponent* wind, UAudioComponent* slide) {
    RockHitAudioComponent = rock;
    TreeHitAudioComponent = tree;
    WindAudioComponent = wind;
    SlideAudioComponent = slide;

    if (WindAudioComponent) WindAudioComponent->FadeIn(0.5f);
    if (SlideAudioComponent) SlideAudioComponent->FadeIn(0.5f);
}</code></pre>

                        <h5>Dynamic Pitch and Activation</h5>
                        <pre><code class="language-cpp">void USledSound::UpdateSounds(float speed, bool grounded) {
    float pitch = PitchMinimumThreshold + FMath::Clamp(speed / SoundPitchScaleMaxSpeed, 0.f, 1.f) * PitchMultiplierRange;
    WindAudioComponent->SetPitchMultiplier(pitch);
    SlideAudioComponent->SetPitchMultiplier(pitch);
    SlideAudioComponent->SetActive(grounded);
}</code></pre>

                        <h5>Collision Response</h5>
                        <pre><code class="language-cpp">void USledSound::PlayHitSounds(TArray<FName> tags, float speed) {
    if (speed < HitSoundMinSpeed) return;
    float time = GetWorld()->GetRealTimeSeconds();
    if (tags.Contains("Rock") && time > RockHitTime + HitSoundInterval)
        RockHitAudioComponent->Play();
    else if (tags.Contains("Tree") && time > TreeHitTime + HitSoundInterval)
        TreeHitAudioComponent->Play();
}</code></pre>

                        <h4 class="mh-section-title">Reflection & Improvements</h4>
                        <p>Future improvements include adopting Sound Cues and Submix Effects for more layered soundscapes and replacing direct component references with interfaces for better modularity and cleaner Blueprint integration.</p>

                        <a class="btn btn-fill mt-3" href="https://github.com/xpt07/SleddingGame" target="_blank"><i class="fa fa-github"></i> View Code on GitHub</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="mh-about-inner">
                        <h3 class="mh-section-title">Project Info</h3>
                        <ul class="mh-experience-deatils">
                            <li><i class="fa fa-user"></i> Group Project (Physics + Audio)</li>
                            <li><i class="fa fa-calendar"></i> 2025</li>
                            <li><i class="fa fa-code"></i> Unreal Engine 5, C++, Blueprints</li>
                            <li><i class="fa fa-cogs"></i> Physics, Audio, Enhanced Input</li>
                        </ul>

                        <h3 class="mh-section-title">Screenshots</h3>
                        <a href="../assets/images/portfolio/sled-figure5.png" data-fancybox="gallery">
                            <img src="../assets/images/portfolio/sled-figure5.png" class="img-fluid rounded mb-3">
                        </a>
                        <a href="../assets/images/portfolio/sled-audio.png" data-fancybox="gallery">
                            <img src="../assets/images/portfolio/sled-audio.png" class="img-fluid rounded mb-3">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="../assets/plugins/js/jquery.min.js"></script>
    <script src="../assets/plugins/js/popper.min.js"></script>
    <script src="../assets/plugins/js/bootstrap.min.js"></script>
    <script src="../assets/plugins/js/jquery.fancybox.min.js"></script>
    <script src="../assets/js/custom-scripts.js"></script>

</body>
</html>
