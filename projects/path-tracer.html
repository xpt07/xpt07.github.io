<!doctype html>
<html lang="en">
<head>
    <title>Path Tracer — GuiCodes</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Interactive CPU-based Path Tracer with BVH, MIS, and Denoising">
    <link rel="shortcut icon" href="../assets/images/favicon.png">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" href="../assets/icons/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../assets/plugins/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/plugins/css/animate.css">
    <link rel="stylesheet" href="../assets/plugins/css/owl.css">
    <link rel="stylesheet" href="../assets/plugins/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

    <link rel="stylesheet" href="../assets/css/colors/purple.css" title="purple">
</head>
<body class="dark-vertion black-bg">

    <header class="black-bg mh-header mh-fixed-nav nav-scroll mh-xs-mobile-nav">
        <div class="overlay"></div>
        <div class="container">
            <nav class="navbar navbar-expand-lg mh-nav nav-btn">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
                    <span class="navbar-toggler-icon icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbar">
                    <ul class="navbar-nav mr-auto ml-auto">
                        <li class="nav-item"><a class="nav-link" href="../index.html#mh-home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="../index.html#mh-portfolio">Portfolio</a></li>
                        <li class="nav-item"><a class="nav-link" href="../index.html#mh-contact">Contact</a></li>
                    </ul>
                    <a class="btn btn-fill" href="../index.html#mh-portfolio"><i class="fa fa-arrow-left"></i> Back to Portfolio</a>
                </div>
            </nav>
        </div>
    </header>

    <section class="project-hero mh-home" id="mh-home" style="background: url('../assets/images/portfolio/afterTD-clipped.png') center/cover no-repeat;">
        <div class="container">
            <div class="row section-separator vertical-middle-content home-padding">
                <div class="col-sm-8">
                    <div class="mh-header-info">
                        <div class="mh-promo wow fadeInUp"><span>Project</span></div>
                        <h2 class="wow fadeInUp">Interactive Path Tracer</h2>
                        <h4 class="wow fadeInUp">Realistic CPU Rendering with BVH, MIS & Denoising</h4>
                        <div class="mh-meta wow fadeInUp">
                            <span class="badge-tech">C++</span>
                            <span class="badge-tech">Path Tracing</span>
                            <span class="badge-tech">DirectX</span>
                            <span class="badge-tech">Multithreading</span>
                            <span class="badge-tech">OIDN</span>
                            <span class="badge-tech">BVH</span>
                            <span class="badge-tech">MIS</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 text-center">
                    <img src="../assets/images/portfolio/cornell-box-PT.png" alt="Ray tracer preview" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <main class="mh-about" id="content">
        <div class="container">
            <div class="row section-separator">
                <div class="col-md-8">
                    <div class="mh-about-inner">
                        <h3 class="mh-section-title">Technical Breakdown</h3>
                        <p>This project is a CPU-based Monte Carlo path tracer implemented in C++ and DirectX. The architecture supports global illumination through features like BVH acceleration, multiple importance sampling, emissive/environment lighting, a layered BSDF system, light tracing, and denoising with Intel OIDN. It is based on modular code structure, aiming for realism and performance.</p>

                        <h4 class="mh-section-title">1. Bounding Volume Hierarchy (BVH)</h4>
                        <p>The scene geometry is organized into a binary BVH using axis-aligned bounding boxes. Median splitting along the longest axis creates a recursive hierarchy until leaves contain ≤6 triangles or max depth is reached. This minimizes traversal cost and maximizes spatial coherence. Ray-AABB tests are performed top-down. Below: BVH visualization and simplified traversal code.</p>
                   
                        <pre><code class="language-cpp">if (ray.intersects(node.bounds)) {
  if (node.isLeaf()) {
    checkTriangles(node);
  } else {
    traverse(node.left);
    traverse(node.right);
  }
}</code></pre>

                        <h4 class="mh-section-title">2. Multithreaded Tile-Based Rendering</h4>
                        <p>The image is split into tiles distributed to worker threads using an atomic job queue. This achieves up to 12× speedup on multi-core CPUs compared to sequential rendering.</p>

                        <h4 class="mh-section-title">3. Adaptive Sampling (Experimental)</h4>
                        <p>A variance-based adaptive sampling strategy was implemented, assigning more samples to noisy tiles. However, limited gains were observed due to unstable low-sample variance and tile management overhead.</p>

                        <h4 class="mh-section-title">4. Layered BSDF & Glass Material</h4>
                        <p>The BSDF system supports layering diffuse, reflective, and transmissive components. The physically-based glass model uses Fresnel equations and Snell’s Law. Since it’s delta-distributed, PDFs are zero. Sampling is weighted by Fresnel reflectance:</p>
                        <pre><code class="language-cpp">if (rand < fresnel) reflect(); else refract();</code></pre>

                        <h4 class="mh-section-title">5. Environment Lighting & MIS</h4>
                        <p>HDR environment maps are sampled using a 2D CDF based on luminance×sin(θ), supporting efficient importance sampling. Multiple importance sampling (MIS) combines BSDF and light sampling using the balance heuristic:</p>
                        <pre><code class="language-cpp">>weight = lightPdf / (lightPdf + bsdfPdf);</code></pre>
                        <div class="row">
                            <div class="col-md-6">
                                <img src="../assets/images/portfolio/beforeTD.png" class="img-fluid rounded mb-3">
                                <p class="text-center">Without MIS</p>
                            </div>
                            <div class="col-md-6">
                                <img src="../assets/images/portfolio/afterTD.png" class="img-fluid rounded mb-3">
                                <p class="text-center">With MIS + CDF</p>
                            </div>
                        </div>

                        <h4 class="mh-section-title">6. Light Tracing</h4>
                        <p>Light paths are traced from emissive surfaces to the sensor, with connection attempts weighted by sensor response. This improves caustics and indirect illumination.</p>
                        <img src="../assets/images/portfolio/LTstairs.jpg" class="img-fluid rounded mb-3">
                        <pre><code class="language-cpp">// Sensor weight for light tracing
float we = 1 / (A_film * pow(cosTheta, 4));</code></pre>

                        <h4 class="mh-section-title">7. Denoising with OIDN</h4>
                        <p>Intel Open Image Denoise is integrated into the film pipeline. It leverages normal and albedo buffers to filter noisy outputs while preserving detail.</p>
                        <div class="row">
                            <div class="col-md-6">
                                <img src="../assets/images/portfolio/noD.png" class="img-fluid rounded mb-3">
                                <p class="text-center">Before</p>
                            </div>
                            <div class="col-md-6">
                                <img src="../assets/images/portfolio/yesD.png" class="img-fluid rounded mb-3">
                                <p class="text-center">After OIDN</p>
                            </div>
                        </div>

                        <h4 class="mh-section-title">8. Limitations & Future Work</h4>
                        <p>Microfacet GGX BRDF and instant radiosity transport were not implemented due to time constraints. Future work may include these features for increased realism and sample efficiency.</p>

                        <h4 class="mh-section-title">How to Run</h4>
                        <ol>
                            <li>Clone the project: <code>https://github.com/xpt07/RTBase.git</code></li>
                            <li>Open in Visual Studio (Release mode)</li>
                            <li>Run with: <code>-scene materials -spp 8192</code></li>
                            <li>Controls: <kbd>WASD + EQ</kbd>, <kbd>P</kbd> to save image</li>
                        </ol>

                        <a class="btn btn-fill" href="https://github.com/xpt07/RTBase.git" target="_blank"><i class="fa fa-github"></i> View Code on GitHub</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="mh-about-inner">
                        <h3 class="mh-section-title">Project Info</h3>
                        <ul class="mh-experience-deatils">
                            <li><i class="fa fa-user"></i> Individual project</li>
                            <li><i class="fa fa-calendar"></i> 2025</li>
                            <li><i class="fa fa-code"></i> C++, DirectX, OIDN</li>
                            <li><i class="fa fa-cogs"></i> BVH, MIS, PBR</li>
                        </ul>

                        <h3 class="mh-section-title">Screenshots</h3>
                        <a href="../assets/images/portfolio/cornell-box-PT.png" data-fancybox="gallery">
                            <img src="../assets/images/portfolio/cornell-box-PT.png" class="img-fluid rounded mb-3">
                        </a>
                        <a href="../assets/images/portfolio/afterTD-clipped.png" data-fancybox="gallery">
                            <img src="../assets/images/portfolio/afterTD-clipped.png" class="img-fluid rounded mb-3">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="../assets/plugins/js/jquery.min.js"></script>
    <script src="../assets/plugins/js/popper.min.js"></script>
    <script src="../assets/plugins/js/bootstrap.min.js"></script>
    <script src="../assets/plugins/js/waypoints.min.js"></script>
    <script src="../assets/plugins/js/owl.carousel.min.js"></script>
    <script src="../assets/plugins/js/jquery.filterizr.min.js"></script>
    <script src="../assets/plugins/js/jquery.fancybox.min.js"></script>
    <script src="../assets/plugins/js/wow.min.js"></script>
    <script src="../assets/js/custom-scripts.js"></script>
    <script>new WOW().init();</script>

</body>
</html>